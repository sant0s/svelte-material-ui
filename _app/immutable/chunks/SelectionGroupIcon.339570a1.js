import{S as X,i as J,s as Y,V as C,w as y,J as Q,y as W,z as Z,A as $,Y as ee,a2 as te,K as ne,g as D,d as N,B as se,$ as x,a0 as re,o as oe,a1 as ae,L as ue,M as ie,N as de,O as ce}from"./index.036e2946.js";import{_ as le,a as L,M as fe,d as M,p as me}from"./dispatch.22ec8f60.js";import{c as R,f as Ie}from"./useActions.a6f71942.js";import{M as Ee,a as _e}from"./MenuSurface.c26d096b.js";import{c as F}from"./Subheader.b6a356d4.js";import{c as pe}from"./classAdderBuilder.01a75084.js";import{G as Se}from"./Graphic.5980b26e.js";/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var _={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},I={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},Ae={FOCUS_ROOT_INDEX:-1},E;(function(r){r[r.NONE=0]="NONE",r[r.LIST_ROOT=1]="LIST_ROOT",r[r.FIRST_ITEM=2]="FIRST_ITEM",r[r.LAST_ITEM=3]="LAST_ITEM"})(E||(E={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ge=function(r){le(t,r);function t(n){var s=r.call(this,L(L({},t.defaultAdapter),n))||this;return s.closeAnimationEndTimerId=0,s.defaultFocusState=E.LIST_ROOT,s.selectedIndex=-1,s}return Object.defineProperty(t,"cssClasses",{get:function(){return _},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return I},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},t.prototype.handleKeydown=function(n){var s=n.key,o=n.keyCode,d=s==="Tab"||o===9;d&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(n){var s=this,o=this.adapter.getElementIndex(n);if(!(o<0)){this.adapter.notifySelected({index:o});var d=this.adapter.getAttributeFromElementAtIndex(o,I.SKIP_RESTORE_FOCUS)==="true";this.adapter.closeSurface(d),this.closeAnimationEndTimerId=setTimeout(function(){var f=s.adapter.getElementIndex(n);f>=0&&s.adapter.isSelectableItemAtIndex(f)&&s.setSelectedIndex(f)},Ee.numbers.TRANSITION_CLOSE_DURATION)}},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case E.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case E.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case E.NONE:break;default:this.adapter.focusListRoot();break}},t.prototype.setDefaultFocusState=function(n){this.defaultFocusState=n},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(n){if(this.validatedIndex(n),!this.adapter.isSelectableItemAtIndex(n))throw new Error("MDCMenuFoundation: No selection group at specified index.");var s=this.adapter.getSelectedSiblingOfItemAtIndex(n);s>=0&&(this.adapter.removeAttributeFromElementAtIndex(s,I.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(s,_.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(n,_.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(n,I.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=n},t.prototype.setEnabled=function(n,s){this.validatedIndex(n),s?(this.adapter.removeClassFromElementAtIndex(n,F.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(n,I.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(n,F.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(n,I.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex=function(n){var s=this.adapter.getMenuItemCount(),o=n>=0&&n<s;if(!o)throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(fe);function Te(r){let t;const n=r[17].default,s=ue(n,r,r[22],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,d){s&&s.m(o,d),t=!0},p(o,d){s&&s.p&&(!t||d&4194304)&&ie(s,n,o,o[22],t?ce(n,o[22],d,null):de(o[22]),null)},i(o){t||(D(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){s&&s.d(o)}}}function he(r){let t,n,s;const o=[{use:r[5]},{class:R({[r[1]]:!0,"mdc-menu":!0})},r[9]];function d(a){r[19](a)}let f={$$slots:{default:[Te]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)f=C(f,o[a]);return r[0]!==void 0&&(f.open=r[0]),t=new _e({props:f}),r[18](t),y.push(()=>Q(t,"open",d)),t.$on("SMUIMenuSurface:mount",r[7]),t.$on("SMUIList:mount",r[8]),t.$on("SMUIMenuSurface:opened",r[20]),t.$on("keydown",r[6]),t.$on("SMUIList:action",r[21]),{c(){W(t.$$.fragment)},l(a){Z(t.$$.fragment,a)},m(a,l){$(t,a,l),s=!0},p(a,[l]){const p=l&546?ee(o,[l&32&&{use:a[5]},l&2&&{class:R({[a[1]]:!0,"mdc-menu":!0})},l&512&&te(a[9])]):{};l&4194304&&(p.$$scope={dirty:l,ctx:a}),!n&&l&1&&(n=!0,p.open=a[0],ne(()=>n=!1)),t.$set(p)},i(a){s||(D(t.$$.fragment,a),s=!0)},o(a){N(t.$$.fragment,a),s=!1},d(a){r[18](null),se(t,a)}}}function Me(r,t,n){let s;const o=["use","class","open","isOpen","setOpen","setDefaultFocusState","getSelectedIndex","getMenuSurface","getElement"];let d=x(t,o),{$$slots:f={},$$scope:a}=t;const{closest:l}=me,p=Ie(re());let{use:T=[]}=t,{class:O=""}=t,{open:m=!1}=t,S,c,h,u;oe(()=>(n(3,c=new ge({addClassToElementAtIndex:(e,i)=>{u.addClassForElementIndex(e,i)},removeClassFromElementAtIndex:(e,i)=>{u.removeClassForElementIndex(e,i)},addAttributeToElementAtIndex:(e,i,A)=>{u.setAttributeForElementIndex(e,i,A)},removeAttributeFromElementAtIndex:(e,i)=>{u.removeAttributeForElementIndex(e,i)},getAttributeFromElementAtIndex:(e,i)=>u.getAttributeFromElementIndex(e,i),elementContainsClass:(e,i)=>e.classList.contains(i),closeSurface:e=>{h.closeProgrammatic(e),M(g(),"SMUIMenu:closedProgrammatically")},getElementIndex:e=>u.getOrderedList().map(i=>i.element).indexOf(e),notifySelected:e=>M(g(),"SMUIMenu:selected",{index:e.index,item:u.getOrderedList()[e.index].element},void 0,!0),getMenuItemCount:()=>u.items.length,focusItemAtIndex:e=>u.focusItemAtIndex(e),focusListRoot:()=>"focus"in u.element&&u.element.focus(),isSelectableItemAtIndex:e=>!!l(u.getOrderedList()[e].element,`.${_.MENU_SELECTION_GROUP}`),getSelectedSiblingOfItemAtIndex:e=>{const i=u.getOrderedList(),A=l(i[e].element,`.${_.MENU_SELECTION_GROUP}`),b=A==null?void 0:A.querySelector(`.${_.MENU_SELECTED_LIST_ITEM}`);return b?i.map(V=>V.element).indexOf(b):-1}})),M(g(),"SMUIMenu:mount",c),c.init(),()=>{c.destroy()}));function U(e){c&&c.handleKeydown(e)}function v(e){h||(h=e.detail)}function k(e){u||n(4,u=e.detail)}function P(){return m}function K(e){n(0,m=e)}function B(e){c.setDefaultFocusState(e)}function G(){return c.getSelectedIndex()}function w(){return S}function g(){return S.getElement()}function j(e){y[e?"unshift":"push"](()=>{S=e,n(2,S)})}function H(e){m=e,n(0,m)}const q=()=>c&&c.handleMenuSurfaceOpened(),z=e=>c&&c.handleItemAction(u.getOrderedList()[e.detail.index].element);return r.$$set=e=>{t=C(C({},t),ae(e)),n(9,d=x(t,o)),"use"in e&&n(10,T=e.use),"class"in e&&n(1,O=e.class),"open"in e&&n(0,m=e.open),"$$scope"in e&&n(22,a=e.$$scope)},r.$$.update=()=>{r.$$.dirty&1024&&n(5,s=[p,...T])},[m,O,S,c,u,s,U,v,k,d,T,P,K,B,G,w,g,f,j,H,q,z,a]}class ye extends X{constructor(t){super(),J(this,t,Me,he,Y,{use:10,class:1,open:0,isOpen:11,setOpen:12,setDefaultFocusState:13,getSelectedIndex:14,getMenuSurface:15,getElement:16})}get isOpen(){return this.$$.ctx[11]}get setOpen(){return this.$$.ctx[12]}get setDefaultFocusState(){return this.$$.ctx[13]}get getSelectedIndex(){return this.$$.ctx[14]}get getMenuSurface(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}const De=pe({class:"mdc-menu__selection-group-icon",component:Se});export{ye as M,De as S};
